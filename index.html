<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>SHAQ PHYSICS ARENA</title>
  <script src="https://cdn.jsdelivr.net/npm/matter-js@0.19.0/build/matter.min.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Clash+Display:wght@700&family=Satoshi&display=swap" rel="stylesheet">
  <style>
    body{margin:0;overflow:hidden;background:linear-gradient(45deg,#000,#8B4513,#000);font-family:'Satoshi',serif;color:#FFD700;}
    h1,h2,h3{font-family:'Clash Display',serif;}
    .card{background:rgba(0,0,0,0.7);color:#FFD700;padding:30px;border-radius:20px;text-align:center;border:4px solid #FFD700;margin:20px;cursor:grab;}
    .btn{background:#FFD700;color:#000;padding:16px 32px;border-radius:50px;font-weight:900;text-decoration:none;display:inline-block;}
    #shaq-splosion{position:fixed;pointer-events:none;z-index:9999;}
  </style>
</head>
<body>

<div style="text-align:center;padding:40px;">
  <h1 style="font-size:6rem;text-shadow:0 0 30px #ff00ff;">COR HANDSHAKVS</h1>
  <p style="font-size:2.5rem;">DRAG • THROW • SHATTER INTO SHAQ</p>

  <div id="physics-container" style="width:100vw;height:100vh;position:relative;">
    <div class="card" data-price="49">
      <h3>AVDITVS</h3><div style="font-size:4rem;">XLIX $</div>
      <p>Ego tabulas inspicio</p>
      <a href="https://gumroad.com/l/heartlandaudit" class="btn">EMERE</a>
    </div>

    <div class="card" data-price="99">
      <h3>COLLOQVIVM</h3><div style="font-size:4rem;">XCIX $</div>
      <p>Quindecim minuta cum SHAQVO</p>
      <a href="https://gumroad.com/l/heartlandcall" class="btn">LIBERARE</a>
    </div>

    <div class="card" style="border:8px solid #00ff00;">
      <h3 style="color:#00ff00;">PLENVM NEGOTIVM</h3>
      <div style="font-size:5rem;color:#00ff00;">MCMXCIX $</div>
      <p>SHAQVS NEGOTIATVR</p>
      <a href="mailto:hello@heartlandhandshake.com" class="btn" style="background:#00ff00;color:#000;">QVAERERE</a>
    </div>
  </div>
</div>

<script>
// REAL PHYSICS + SHAQ EXPLOSIONS
const { Engine, Render, World, Bodies, Mouse, MouseConstraint, Runner } = Matter;

const engine = Engine.create();
engine.gravity.y = 0.8;

const container = document.getElementById('physics-container');
const width = container.clientWidth;
const height = container.clientHeight;

// Ground + walls
World.add(engine.world, [
  Bodies.rectangle(width/2, height + 50, width*2, 100, { isStatic: true }), // floor
  Bodies.rectangle(-50, height/2, 100, height*2, { isStatic: true }),     // left
  Bodies.rectangle(width + 50, height/2, 100, height*2, { isStatic: true }), // right
]);

// Make every .card draggable + physics-enabled
document.querySelectorAll('.card').forEach(card => {
  const rect = card.getBoundingClientRect();
  const body = Bodies.rectangle(
    rect.left + rect.width/2,
    rect.top + rect.height/2,
    rect.width,
    rect.height,
    {
      render: { visible: false },
      restitution: 0.7,
      frictionAir: 0.01
    }
  );
  card.physicsBody = body;
  World.add(engine.world, body);

  // When it hits the floor → EXPLODE INTO SHAQS
  Matter.Events.on(engine, 'collisionStart', event => {
    event.pairs.forEach(pair => {
      if (pair.bodyA === body || pair.bodyB === body) {
        if (pair.bodyA.isStatic || pair.bodyB.isStatic) {
          shatterIntoShaqs(body.position.x, body.position.y);
          World.remove(engine.world, body);
          card.style.opacity = '0';
          setTimeout(() => card.remove(), 1000);
        }
      }
    });
  });
});

// Mouse/touch control
const mouse = Mouse.create(container);
const mouseConstraint = MouseConstraint.create(engine, {
  mouse: mouse,
  constraint: { stiffness: 0.2, render: { visible: false } }
});
World.add(engine.world, mouseConstraint);

// SHAQ SHATTER FUNCTION
function shatterIntoShaqs(x, y) {
  for(let i = 0; i < 20; i++) {
    const shaq = document.createElement('img');
    shaq.src = 'https://i.imgur.com/6N4kB0Q.gif';
    shaq.style.position = 'fixed';
    shaq.style.left = (x - 50) + 'px';
    shaq.style.top = (y - 50) + 'px';
    shaq.style.width = '80px';
    shaq.style.pointerEvents = 'none';
    shaq.style.transform = `rotate(${Math.random()*360}deg)`;
    document.body.appendChild(shaq);

    // Animate explosion
    const vx = (Math.random() - 0.5) * 20;
    const vy = Math.random() * -15 - 5;
    let px = x, py = y;
    const anim = setInterval(() => {
      px += vx;
      py += vy;
      vy += 0.8; // gravity
      shaq.style.left = px + 'px';
      shaq.style.top = py + 'px';
      if (py > window.innerHeight + 100) {
        shaq.remove();
        clearInterval(anim);
      }
    }, 16);
  }
}

// Sync DOM positions with physics
(function run() {
  document.querySelectorAll('.card').forEach(card => {
    if (card.physicsBody) {
      const body = card.physicsBody;
      card.style.transform = `translate(${body.position.x - card.offsetWidth/2}px, ${body.position.y - card.offsetHeight/2}px) rotate(${body.angle}rad)`;
    }
  });
  requestAnimationFrame(run);
})();

Runner.run(engine);
</script>

</body>
</html>
